{"remainingRequest":"/home/yberateke/Yandex.Disk/tesodev-search-portal/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/yberateke/Yandex.Disk/tesodev-search-portal/src/views/SearchPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/yberateke/Yandex.Disk/tesodev-search-portal/src/views/SearchPage.vue","mtime":1627507839097},{"path":"/home/yberateke/Yandex.Disk/tesodev-search-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/yberateke/Yandex.Disk/tesodev-search-portal/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/yberateke/Yandex.Disk/tesodev-search-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/yberateke/Yandex.Disk/tesodev-search-portal/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBDdXN0b21CdXR0b24gZnJvbSAiLi4vY29tcG9uZW50cy9DdXN0b21CdXR0b24vQ3VzdG9tQnV0dG9uLnZ1ZSI7CmltcG9ydCBSZXN1bHRDYXJkIGZyb20gIi4uL2NvbXBvbmVudHMvUmVzdWx0Q2FyZC9SZXN1bHRDYXJkLnZ1ZSI7CmltcG9ydCBTZWFyY2hJbnB1dCBmcm9tICIuLi9jb21wb25lbnRzL1NlYXJjaElucHV0L1NlYXJjaElucHV0LnZ1ZSI7CmltcG9ydCBPcmRlckljb24gZnJvbSAiLi4vY29tcG9uZW50cy9PcmRlckljb24udnVlIjsKaW1wb3J0IFBhZ2luYXRlIGZyb20gIi4uL2NvbXBvbmVudHMvUGFnaW5hdGUvUGFnaW5hdGUudnVlIjsKaW1wb3J0IG1vY2tEYXRhIGZyb20gIi4uL2Fzc2V0cy9tb2NrRGF0YS5qc29uIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7IFNlYXJjaElucHV0LCBDdXN0b21CdXR0b24sIFJlc3VsdENhcmQsIE9yZGVySWNvbiwgUGFnaW5hdGUgfSwKICBjb21wdXRlZDogewogICAgcGFnaW5hdGVDb3VudCgpIHsKICAgICAgcmV0dXJuIE1hdGguY2VpbCh0aGlzLmZpbHRlcmVkTGlzdC5sZW5ndGggLyA2KTsKICAgIH0sCiAgICBzaG93TGlzdCgpIHsKICAgICAgcmV0dXJuIHRoaXMub3JkZXJMaXN0KCk7CiAgICB9LAogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNlYXJjaFF1ZXJ5OiB0aGlzLiRyb3V0ZS5wYXJhbXMucXVlcnksCiAgICAgIGVycm9yOiBmYWxzZSwKICAgICAgZXJyb3JNZXNzYWdlOiBudWxsLAogICAgICBmaWx0ZXJlZExpc3Q6IFtdLAogICAgICBtb2NrRGF0YTogbW9ja0RhdGEuZGF0YSwKICAgICAgY3VycmVudFBhZ2luYXRlOiAxLAogICAgICBvcmRlckJ5OiAibmFtZV9hc2MiLAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHNlYXJjaCgpIHsKICAgICAgaWYgKHRoaXMuc2VhcmNoUXVlcnkgPT0gbnVsbCB8fCB0aGlzLnNlYXJjaFF1ZXJ5ID09ICIiKSB7CiAgICAgICAgdGhpcy5lcnJvciA9IHRydWU7CiAgICAgICAgdGhpcy5lcnJvck1lc3NhZ2UgPSAiQnUgYWxhbiBib8WfIGLEsXJha8SxbGFtYXouIjsKCiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICAvLyBBeW7EsSBhcmFtYXnEsSB5YXBtYXPEsW4gZGl5ZSB1ZmFrIMO2bmxlbQogICAgICBpZiAoCiAgICAgICAgdGhpcy4kcm91dGUucGF0aCAhPQogICAgICAgIGAvc2VhcmNoLyR7dGhpcy5zZWFyY2hRdWVyeX0vcGFnZS8xL29yZGVyQnkvbmFtZV9hc2NgCiAgICAgICkgewogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKAogICAgICAgICAgYC9zZWFyY2gvJHt0aGlzLnNlYXJjaFF1ZXJ5fS9wYWdlLzEvb3JkZXJCeS9uYW1lX2FzY2AKICAgICAgICApOwogICAgICB9CiAgICB9LAoKICAgIGZpbmRCeU5hbWVBbmRTdXJuYW1lKCkgewogICAgICB2YXIgZmlsdGVyZWRMaXN0ID0gdGhpcy5tb2NrRGF0YS5maWx0ZXIoKGl0ZW0pID0+IHsKICAgICAgICByZXR1cm4gaXRlbVswXS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHRoaXMuc2VhcmNoUXVlcnkudG9Mb3dlckNhc2UoKSk7CiAgICAgIH0pOwoKICAgICAgdGhpcy5maWx0ZXJlZExpc3QgPSBmaWx0ZXJlZExpc3Q7CiAgICB9LAoKICAgIG9yZGVyTGlzdCgpIHsKICAgICAgdmFyIG91dHB1dDsKICAgICAgc3dpdGNoICh0aGlzLm9yZGVyQnkpIHsKICAgICAgICBjYXNlICJuYW1lX2FzYyI6CiAgICAgICAgICBvdXRwdXQgPSB0aGlzLmZpbHRlcmVkTGlzdAogICAgICAgICAgICAuc29ydCgoYSxiKSA9PiAoYVswXSA+IGJbMF0pID8gMSA6ICgoYlswXSA+IGFbMF0pID8gLTEgOiAwKSkKICAgICAgICAgICAgLnNsaWNlKCh0aGlzLmN1cnJlbnRQYWdpbmF0ZSAtIDEpICogNiwgNiAqIHRoaXMuY3VycmVudFBhZ2luYXRlKTsKICAgICAgICAgIHJldHVybiBvdXRwdXQ7CiAgICAgICAgY2FzZSAibmFtZV9kZXMiOgogICAgICAgICAgb3V0cHV0ID0gdGhpcy5maWx0ZXJlZExpc3QKICAgICAgICAgICAgIC5zb3J0KChhLGIpID0+IChiWzBdID4gYVswXSkgPyAxIDogKChhWzBdID4gYlswXSkgPyAtMSA6IDApKQogICAgICAgICAgICAuc2xpY2UoKHRoaXMuY3VycmVudFBhZ2luYXRlIC0gMSkgKiA2LCA2ICogdGhpcy5jdXJyZW50UGFnaW5hdGUpOwogICAgICAgICAgcmV0dXJuIG91dHB1dDsKICAgICAgICBjYXNlICJ5ZWFyX2FzYyI6CiAgICAgICAgICBvdXRwdXQgPSB0aGlzLmZpbHRlcmVkTGlzdAogICAgICAgICAgICAuc29ydCgoYSwgYikgPT4gewogICAgICAgICAgICAgIHJldHVybiBhWzNdLnNwbGl0KCIvIilbMl0gLSBiWzNdLnNwbGl0KCIvIilbMl07CiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC5zbGljZSgodGhpcy5jdXJyZW50UGFnaW5hdGUgLSAxKSAqIDYsIDYgKiB0aGlzLmN1cnJlbnRQYWdpbmF0ZSk7CiAgICAgICAgICByZXR1cm4gb3V0cHV0OwoKICAgICAgICBjYXNlICJ5ZWFyX2RlcyI6CiAgICAgICAgICBvdXRwdXQgPSB0aGlzLmZpbHRlcmVkTGlzdAogICAgICAgICAgICAuc29ydCgoYSwgYikgPT4gewogICAgICAgICAgICAgIHJldHVybiBiWzNdLnNwbGl0KCIvIilbMl0gLSBhWzNdLnNwbGl0KCIvIilbMl07CiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC5zbGljZSgodGhpcy5jdXJyZW50UGFnaW5hdGUgLSAxKSAqIDYsIDYgKiB0aGlzLmN1cnJlbnRQYWdpbmF0ZSk7CiAgICAgICAgICByZXR1cm4gb3V0cHV0OwogICAgICB9CgogICAgICB0aGlzLmZpbHRlcmVkTGlzdCA9IHRoaXMuZmlsdGVyZWRMaXN0LnNvcnQoKGEsIGIpID0+IHsKICAgICAgICByZXR1cm4gYVswXSAtIGJbMF07CiAgICAgIH0pOwogICAgfSwKICB9LAoKICBjcmVhdGVkKCkgewogICAgdGhpcy5maW5kQnlOYW1lQW5kU3VybmFtZSgpOwogIH0sCgogIHdhdGNoOiB7CiAgICAiJHJvdXRlLnBhdGgiKCkgewogICAgICB0aGlzLmZpbmRCeU5hbWVBbmRTdXJuYW1lKCk7CiAgICB9LAogICAgY3VycmVudFBhZ2luYXRlKCkgewogICAgICB0aGlzLiRyb3V0ZS5wYXJhbXMucGFnZSA9IHRoaXMuY3VycmVudFBhZ2luYXRlOwogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["SearchPage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwCA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SearchPage.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"containerSearch\">\n    <div class=\"header\">\n      <img src=\"../assets/tesodev_logo.png\" width=\"200\" />\n      <search-input\n        :searchQuery.sync=\"searchQuery\"\n        :error.sync=\"error\"\n        :errorMessage=\"errorMessage\"\n      ></search-input>\n      <custom-button placeHolder=\"Search\" @search=\"search\"></custom-button>\n    </div>\n    <div class=\"results\" v-if=\"this.$route.path.startsWith('/search/')\">\n      <div class=\"orderByRow\">\n        <div class=\"orderBy\">\n          <order-icon /> <span>Order By</span>\n          <div class=\"dropdown-content\">\n            <p @click=\"orderBy = 'name_asc'\">Name ascending</p>\n            <p @click=\"orderBy = 'name_des'\">Name descending</p>\n            <p @click=\"orderBy = 'year_asc'\">Year ascending</p>\n            <p @click=\"orderBy = 'year_des'\">Year descending</p>\n          </div>\n        </div>\n      </div>\n      <result-card\n        v-for=\"(result, key) in showList\"\n        :key=\"key\"\n        :title=\"`${result[4]} - ${result[5]}`\"\n        :date=\"`${result[0]} - ${result[3].split('/')[2]}`\"\n        :email=\"result[2]\"\n      />\n\n      <paginate\n        :currentPaginate.sync=\"currentPaginate\"\n        :paginateCount=\"paginateCount\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport CustomButton from \"../components/CustomButton/CustomButton.vue\";\nimport ResultCard from \"../components/ResultCard/ResultCard.vue\";\nimport SearchInput from \"../components/SearchInput/SearchInput.vue\";\nimport OrderIcon from \"../components/OrderIcon.vue\";\nimport Paginate from \"../components/Paginate/Paginate.vue\";\nimport mockData from \"../assets/mockData.json\";\n\nexport default {\n  components: { SearchInput, CustomButton, ResultCard, OrderIcon, Paginate },\n  computed: {\n    paginateCount() {\n      return Math.ceil(this.filteredList.length / 6);\n    },\n    showList() {\n      return this.orderList();\n    },\n  },\n  data() {\n    return {\n      searchQuery: this.$route.params.query,\n      error: false,\n      errorMessage: null,\n      filteredList: [],\n      mockData: mockData.data,\n      currentPaginate: 1,\n      orderBy: \"name_asc\",\n    };\n  },\n  methods: {\n    search() {\n      if (this.searchQuery == null || this.searchQuery == \"\") {\n        this.error = true;\n        this.errorMessage = \"Bu alan boş bırakılamaz.\";\n\n        return;\n      }\n\n      // Aynı aramayı yapmasın diye ufak önlem\n      if (\n        this.$route.path !=\n        `/search/${this.searchQuery}/page/1/orderBy/name_asc`\n      ) {\n        this.$router.push(\n          `/search/${this.searchQuery}/page/1/orderBy/name_asc`\n        );\n      }\n    },\n\n    findByNameAndSurname() {\n      var filteredList = this.mockData.filter((item) => {\n        return item[0].toLowerCase().includes(this.searchQuery.toLowerCase());\n      });\n\n      this.filteredList = filteredList;\n    },\n\n    orderList() {\n      var output;\n      switch (this.orderBy) {\n        case \"name_asc\":\n          output = this.filteredList\n            .sort((a,b) => (a[0] > b[0]) ? 1 : ((b[0] > a[0]) ? -1 : 0))\n            .slice((this.currentPaginate - 1) * 6, 6 * this.currentPaginate);\n          return output;\n        case \"name_des\":\n          output = this.filteredList\n             .sort((a,b) => (b[0] > a[0]) ? 1 : ((a[0] > b[0]) ? -1 : 0))\n            .slice((this.currentPaginate - 1) * 6, 6 * this.currentPaginate);\n          return output;\n        case \"year_asc\":\n          output = this.filteredList\n            .sort((a, b) => {\n              return a[3].split(\"/\")[2] - b[3].split(\"/\")[2];\n            })\n            .slice((this.currentPaginate - 1) * 6, 6 * this.currentPaginate);\n          return output;\n\n        case \"year_des\":\n          output = this.filteredList\n            .sort((a, b) => {\n              return b[3].split(\"/\")[2] - a[3].split(\"/\")[2];\n            })\n            .slice((this.currentPaginate - 1) * 6, 6 * this.currentPaginate);\n          return output;\n      }\n\n      this.filteredList = this.filteredList.sort((a, b) => {\n        return a[0] - b[0];\n      });\n    },\n  },\n\n  created() {\n    this.findByNameAndSurname();\n  },\n\n  watch: {\n    \"$route.path\"() {\n      this.findByNameAndSurname();\n    },\n    currentPaginate() {\n      this.$route.params.page = this.currentPaginate;\n    },\n  },\n};\n</script>\n\n<style scoped>\n.orderByRow {\n  width: 100%;\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  padding-bottom: 40px;\n}\n.orderBy {\n  position: relative;\n  display: inline-block;\n}\n\n.orderBy span {\n  font-weight: bold;\n  font-size: 18px;\n  line-height: 21px;\n}\n\n.orderBy .dropdown-content {\n  display: none;\n  position: absolute;\n  background-color: #f9f9f9;\n  min-width: 160px;\n  box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.2);\n  padding: 12px 16px;\n  z-index: 1;\n}\n\n.orderBy .dropdown-content p {\n  padding: 10px;\n  font-weight: bold;\n  font-size: 14px;\n  line-height: 16px;\n}\n\n.orderBy .dropdown-content p:hover {\n  background-color: grey;\n  color: white;\n}\n.orderBy:hover {\n  cursor: pointer;\n}\n.orderBy:hover .dropdown-content {\n  display: block;\n}\n\n.containerSearch {\n  padding: 27px;\n}\n\n.containerSearch .header {\n  display: flex;\n  align-items: center;\n}\n\n.containerSearch .header img {\n  margin-right: 35px;\n}\n\n.containerSearch .results {\n  margin-top: 18px;\n  height: 258px;\n  width: 80%;\n  margin: auto;\n  border-radius: 4px;\n  padding: 18px 32px;\n  position: relative;\n}\n</style>"]}]}